# Домашнее задание к занятию "`Типы и структура СУБД`" - `Живарев Игорь`


### Задание 1

Архитектор ПО решил проконсультироваться у вас, какой тип БД лучше выбрать для хранения определенных данных.

Он вам предоставил следующие типы сущностей, которые нужно будет хранить в БД:

1. Электронные чеки в json виде
2. Склады и автомобильные дороги для логистической компании
3. Генеалогические деревья
4. Кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации
5. Отношения клиент-покупка для интернет-магазина
Выберите подходящие типы СУБД для каждой сущности и объясните свой выбор.


Ответ:

1. Документо-ориентированные БД.
2. Графовые БД, которые позволяют производить поиск наикратчайшего пути.
3. Сетевая БД, т.к. у потомка может быть несколько связей с несколькими родителями.
4. БД формата ключ-значение, т.к. можно задать время жизни для каждой записи.
5. Реляционная БД, т.к. множество записей о клиентах имеют множество связей с товарами и их свойствами.

---

### Задание 2

Вы создали распределенное высоконагруженное приложение и хотите классифицировать его согласно CAP-теореме. Какой классификации по CAP-теореме соответствует ваша система, если (каждый пункт - это отдельная реализация вашей системы и для каждого пункта надо привести классификацию):

1. Данные записываются на все узлы с задержкой до часа (асинхронная запись)
2. При сетевых сбоях, система может разделиться на 2 раздельных кластера
3. Система может не прислать корректный ответ или сбросить соединение
А согласно PACELC-теореме, как бы вы классифицировали данные реализации?

Ответ:

1. AP, PA-EL 
2. CA, EL-PC
3. CP, PA-EC

---

### Задание 3

Могут ли в одной системе сочетаться принципы BASE и ACID? Почему?

Ответ:

На основе требований BASE вряд ли получится создать банковскую систему. В то же самое время, ACID не получится использовать в высоконагруженных системах..

BASE ориентирована на доступность данных, а ACID - на целостность. Сочетать их не получиться.

### Задание 4

Вам дали задачу написать системное решение, основой которого бы послужили:

- фиксация некоторых значений с временем жизни
- реакция на истечение таймаута
Вы слышали о key-value хранилище, которое имеет механизм Pub/Sub. Что это за система? Какие минусы выбора данной системы?

Ответ:

Наиболее подходящим на мой взгляд решением в данной ситуации будет Redis. Redis это key-value 
хранилище, имеет механизм Pub/Sub и TTL с возможностью реакции на его истечение.
Минусы Redis:
- Высокие требования к оперативной памяти сервера
- Консистентность данных - в случае отказа сервера, данные из оперативной памяти будут утеряны и сохранятся только данные с последней синхронизации с диском
- Отсутствует разграничение прав доступа по пользователям.
- Отсутствует поддержка языка SQL
- Экземпляр БД не маштабируется
- Работает только на одном ядре процессора в однопоточном режиме

---